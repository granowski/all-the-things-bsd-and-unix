#	$NetBSD: GENERIC64,v 1.206.2.5 2024/10/09 13:25:12 martin Exp $
#	DG-SYSTEMZ ARM (aarch64) kernel

include	"arch/evbarm/conf/std.generic64"
include "arch/evbarm/conf/files.dg.systemz.generic64"
include	"arch/evbarm/conf/GENERIC.dg.systemz.common"

maxusers	64

options 	CPU_CORTEX
options 	CPU_THUNDERX
options 	SOC_BCM2837
options 	SOC_MESONG12
options 	SOC_MESONGXBB
options 	SOC_MESONGXL
options 	SOC_RK3328
options 	SOC_RK3399
options 	SOC_RK3588
options 	MULTIPROCESSOR

pseudo-device 	openfirm	# /dev/openfirm

options 	INCLUDE_CONFIG_FILE

# Hardware management of the Access flag and dirty state (HAFDBS).
options 	ARMV81_HAFDBS

# Privileged Access Never (PAN).
options 	ARMV81_PAN

# These options enable verbose messages for several subsystems.
# Warning, these may compile large string tables into the kernel!
options 	ACPIVERBOSE	# verbose ACPI configuration messages
options 	MIIVERBOSE	# verbose PHY autoconfig messages
options 	PCIVERBOSE	# verbose PCI device autoconfig messages
options 	USBVERBOSE	# verbose USB device autoconfig messages

makeoptions	DEBUG="-g"	# compile full symbol table
makeoptions	COPY_SYMTAB=1

config		netbsd		root on ? type ?

#options 	COMPAT_NETBSD32	# already defined in GENERIC.common (there
options 	EXEC_ELF32	# for a.out, but here we need it for elf32)

options 	COMPAT_LINUX	# binary compatibility with Linux
#options 	COMPAT_LINUX32	# binary compatibility with Linux 32-bit
options 	COMPAT_50	# COMPAT_LINUX depends on
options 	COMPAT_OSSAUDIO # binary compatibility with Linux

# EFI runtime support
options 	EFI_RUNTIME
pseudo-device	efi		# /dev/efi

# Device tree support
armfdt0 	at root
simplebus*	at fdt? pass 0

# ACPI support
acpifdt*	at fdt? pass 1
acpi*		at acpifdt?
acpiacad*	at acpi?
acpibat*	at acpi?
acpibut*	at acpi?
acpicppc*	at acpi?
acpipcd*	at acpi?
acpipcc*	at acpi?
acpifan*	at acpi?
acpiged*	at acpi?
acpilid*	at acpi?
acpitz* 	at acpi?
acpivmgenid*	at acpi?

# CPUs
cpus*		at fdt? pass 0
cpu*		at fdt? pass 0
cpu*		at acpi?

vmt*		at fdt?			# VMware Tools

# Performance monitors
armpmu* 	at fdt?
pseudo-device	tprof

# CPU frequency scaling
cpufreqdt*	at cpu?

# Power State Coordination Interface (PSCI)
psci*		at fdt? pass 0

fclock* 	at fdt? pass 1
ffclock*	at fdt? pass 1
fregulator*	at fdt? pass 4
gregulator*	at fdt? pass 4
pregulator*	at fdt? pass 4
gpiokeys*	at fdt?
wskbd*		at gpiokeys? console ? mux 1
gpioleds*	at fdt?

# System Controller
syscon* 	at fdt? pass 1		# Generic System Controller
#sunxisramc*	at fdt? pass 1		# Allwinner System Control

# Timer
gtmr*		at fdt? pass 2		# ARM Generic Timer
gtmr*		at acpi?
armgtmr0	at gtmr?

# Watchdog
bcmpmwdog*	at fdt?			# Broadcom BCM283x watchdog
mesongxwdt*	at fdt?			# Amlogic Meson GX watchdog
sbsawdt*	at acpi?		# ARM SBSA-compliant watchdog
#sunxiwdt*	at fdt?			# Allwinner watchdog

# Interrupt controller
bcmicu* 	at fdt? pass 1		# Broadcom BCM283x ICU
gic*		at fdt? pass 1		# ARM GICv2
gic*		at acpi?
armgic0 	at gic?
gicvthree*	at fdt? pass 1		# ARM GICv3
gicvthree*	at acpi?
imx7gpc*	at fdt? pass 2		# IMX GPCv2
#sunxinmi*	at fdt? pass 2		# Allwinner NMI / R_INTC

# Firmware devices
bcmmbox*	at fdt?			# Broadcom VideoCore IV mailbox
bcmmbox*	at acpi?
vcmbox* 	at bcmmbox?
qemufwcfg*	at fdt?			# QEMU Firmware Configuration device
qemufwcfg*	at acpi?

# DMA controller
bcmdmac*	at fdt?			# Broadcom BCM283x DMA controller
#sun6idma*	at fdt?	pass 4		# Allwinner DMA controller (sun6i)

# FUSE controller
#sunxisid*	at fdt? pass 4		# Allwinner SID

# Clock and Reset controller
bcmcprman*	at fdt? pass 1		# Broadcom BCM283x Clock Manager
bcmaux* 	at fdt? pass 1		# Broadcom BCM283x Aux Periph Clocks
g12aoclkc*	at fdt? pass 2		# Amlogic Meson G12 AO clock controller
g12clkc*	at fdt? pass 2		# Amlogic Meson G12 EE clock controller
gxbbaoclkc*	at fdt? pass 2		# Amlogic Meson GXBB AO clock controller
gxbbclkc*	at fdt? pass 2		# Amlogic Meson GXBB/GXL EE clock controller
imx8mqccm*	at fdt? pass 2		# NXP iMX8MQ CCM
mesonresets*	at fdt? pass 2		# Amlogic Meson misc. clock resets
rkcru*		at fdt? pass 2		# Rockchip RK3328 CRU
#sun8ih3ccu*	at fdt? pass 2		# Allwinner H3/H5 CCU
#sun8ih3rccu*	at fdt? pass 2		# Allwinner H3/H5 CCU (PRCM)
#sun50ia64ccu*	at fdt? pass 2		# Allwinner A64 CCU
#sun50ia64rccu*	at fdt? pass 2		# Allwinner A64 CCU (PRCM)
#sun50ih6ccu*	at fdt? pass 2		# Allwinner H6 CCU
#sun50ih6rccu*	at fdt? pass 2		# Allwinner H6 CCU (PRCM)
#sunxide2ccu*	at fdt? pass 3		# Allwinner DE2 clock controller
#sunxiresets*	at fdt? pass 1		# Allwinner misc. resets
#sunxigates*	at fdt? pass 1		# Allwinner misc. gates
#sunxigmacclk*	at fdt? pass 2		# Allwinner GMAC MII/RGMII clock mux

# GPIO controller
bcmgpio*	at fdt? pass 3		# Broadcom BCM283x GPIO
imxgpio*	at fdt? pass 3		# IMX GPIO
mesonpinctrl*	at fdt? pass 2		# Amlogic Meson GPIO
#sunxigpio*	at fdt? pass 3		# Allwinner GPIO
rkgpio* 	at rkiomux?		# Rockchip GPIO
gpio*		at gpiobus?

# PWM controller
mesonpwm*	at fdt? pass 3		# Amlogic PWM
rkpwm*		at fdt? pass 3		# Rockchip PWM
#sunxipwm*	at fdt? pass 3		# Allwinner PWM

# MPIO / Pinmux
imxiomux*	at fdt? pass 2		# IMX IOMUX
rkiomux*	at fdt?	pass 3		# Rockchip IOMUX

# PCIE
pcihost*	at fdt?			# Generic PCI host controller
acpipchb*	at acpi?		# ACPI PCIe host bridge
rkpcie* 	at fdt?			# Rockchip AXI PCIE
rkpciephy*	at fdt? pass 9		# Rockchip AXI PCIE PHY
pci*		at pcibus?
ppb*		at pci? dev ? function ?
pci*		at ppb?

# Ethernet
#emac*		at fdt?				# Allwinner Gigabit Ethernet (EMAC)
enet*		at fdt?				# IMX FEC
eqos*		at acpi?			# DesignWare Ethernet QoS
eqos*		at fdt?
genet*		at acpi?			# Broadcom GENET v5
genet*		at fdt?
aq*		at pci? dev ? function ?	# Aquantia AQC 10 gigabit
bge*		at pci? dev ? function ?	# Broadcom 570x gigabit Ethernet
igc*		at pci? dev ? function ?	# Intel 22x 2.5 gigabit
ixg* 		at pci? dev ? function ?	# Intel 8259x 10 gigabit
ixl* 		at pci? dev ? function ?	# Intel Ethernet 700 series
ixv* 		at pci? dev ? function ?	# Intel 8259x 10G virtual function
re*		at pci? dev ? function ?	# Realtek RTL8111GS
rge*		at pci? dev ? function ?	# Realtek 8125
wm*		at pci? dev ? function ?	# Intel Gigabit Ethernet

# MII/PHY support
atphy*		at mii? phy ?		# Attansic/Atheros PHYs
brgphy* 	at mii? phy ?		# Broadcom BCM5400-family PHYs
gxlphy* 	at mii? phy ?		# Amlogic Meson GX internal PHY
igphy*		at mii? phy ?		# Intel IGP01E1000
ihphy*		at mii? phy ?		# Intel 82577 PHYs
ikphy*		at mii? phy ?		# Intel 82563 PHYs
inphy*		at mii? phy ?		# Intel 82555 PHYs
iophy*		at mii? phy ?		# Intel 82553 PHYs
makphy* 	at mii? phy ?		# Marvell Semiconductor 88E1000 PHYs
rgephy* 	at mii? phy ?		# Realtek 8169S/8110S internal PHYs
rlphy*		at mii? phy ?		# Realtek 8139/8201L PHYs
urlphy* 	at mii? phy ?		# Realtek RTL8150L internal PHYs
ukphy*		at mii? phy ?		# generic unknown PHYs

# Mini-PCIe Wireless
#options 	ATHHAL_AR5212,ATHHAL_RF2425	# AR5BHB63
#ath*		at pci? dev ? function ?	# Atheros IEEE 802.11
#athn*		at pci? dev ? function ?	# Atheros IEEE 802.11

# UART
com*		at fdt?	pass 4			# UART
com*		at acpi?
#exuart*		at fdt? pass 4			# SSCOM UART
imxuart*	at fdt? pass 4			# IMX UART
options 	IMXUARTCONSOLE
mesonuart*	at fdt? pass 4			# Amlogic Meson UART
plcom*		at fdt?	pass 4			# ARM PL011 UART
plcom*		at acpi?
puc*		at pci? dev ? function ?	# PCI "universal" comm. cards
com*		at puc? port ?

# I2C controllers
options 	I2C_MAX_ADDR=0xfff
bsciic* 	at fdt?			# Broadcom BCM283x Serial Control
bsciic* 	at acpi?
imxi2c* 	at fdt? pass 4		# IMX I2C
nxpiic* 	at acpi?		# NXP Layerscape I2C
rkiic*		at fdt? pass 4		# Rockchip I2C
#sunxirsb*	at fdt?	pass 4		# Allwinner RSB
#sunxitwi*	at fdt?			# Allwinner TWI
iicmux* 	at fdt? pass 5		# I2C mux virtual controllers
iic*		at i2cbus?

# I2C devices
titemp* 	at iic?
seeprom*	at iic?
spdmem* 	at iic?			# memory module SPD EEPROM decoder
as3722pmic*	at iic?
as3722reg*	at as3722pmic?
axppmic*	at iic?			# X-Powers AXP Power Management IC
axpreg* 	at axppmic?
cwfg*		at iic?			# CellWise CW2015 Fuel Gauge IC
dsrtc*		at iic?			# Dallas Semiconductor RTCs
es8316ac*	at iic?			# Everest Semi ES8316 Audio CODEC
fan53555reg*	at iic?			# FAN53555 / SY82x regulator
max77620pmic*	at iic?
pcaiicmux*	at iic?			# PCA954x / PCA984x I2C switch / mux
pcf8563rtc*	at iic?			# PCF8563 RTC
rkpmic* 	at iic?			# Rockchip Power Management IC
rkreg*		at rkpmic?
tcagpio*	at iic?

# Random number generators and security devices
amdccp* 	at fdt?			# AMD Cryptograhic Coprocessor RNG
amdccp* 	at acpi?
bcmrng* 	at fdt?			# Broadcom BCM283x RNG
mesonrng*	at fdt?			# Amlogic Meson RNG
rkv1crypto* 	at fdt?			# Rockchip Crypto v1
#sun8icrypto* 	at fdt?			# Allwinner Crypto Engine
tpm*		at acpi?		# Trusted Platform Module

# RTC
#sunxirtc*	at fdt? pass 4		# Allwinner RTC

# SDMMC
bcmsdhost*	at fdt?			# Broadcom BCM283x SD Host Interface
mesongxmmc*	at fdt?			# Amlogic Meson GX eMMC/SD/SDIO controller
mmcpwrseq*	at fdt? pass 5		# Simple MMC power sequence provider
rkemmcphy*	at fdt?			# Rockchip eMMC PHY
sdhc*		at fdt?			# SD Host Controller Interface
sdhc*		at acpi?
#sunximmc*	at fdt?			# Allwinner SD/MMC
sdmmc*		at sdmmcbus?
ld0		at sdmmc0
ld1		at sdmmc1
ld2		at sdmmc2
ld3		at sdmmc3
ld*		at sdmmc?
bwfm*		at sdmmc?		# Broadcom BCM43xxx WiFi Interface

# SATA
ahcisata*	at fdt?			# AHCI SATA
ahcisata*	at acpi?
ahcisata*	at pci? dev ? function ?
atabus* 	at ata?
atapibus*	at atapi?
wd*		at atabus? drive ?
cd*		at atapibus? drive ?

# NVMe
#nvme*		at fdt?			# Apple M1
nvme*		at pci? dev ? function ?
ld*		at nvme? nsid ?

# SPI controllers
bcmspi* 	at fdt?			# Broadcom BCM283x SPI
rkspi*		at fdt?			# Rockchip SPI
#sun6ispi*	at fdt?			# Allwinner SPI
spi*		at spibus?
m25p*		at spi?
spiflash*	at spiflashbus?

# Broadcom VCHIQ, etc
vchiq*		at fdt?
vchiq*		at acpi?
vcaudio0 	at vchiq?

# Audio support
#hdaudio*	at fdt?			# Intel HDA
hdaudio*	at pci? dev ? function ?
auich*		at pci? dev ? function ?	# Intel AC'97 Audio (QEMU)
eap*		at pci? dev ? function ?	# Ensoniq AudioPCI (QEMU)
hdafg*		at hdaudiobus?
options 	HDAUDIOVERBOSE
ausoc*		at fdt?			# Simple SoC audio card
simpleamp*	at fdt?			# Simple amplifier
spdiftx*	at fdt?			# SPDIF transmitter
rki2s*		at fdt?			# Rockchip I2S/PCM
#sunxicodec*	at fdt?			# Allwinner audio codec
#sun8icodec*	at fdt?			# Allwinner audio codec (sun8i/sun50i)
#h3codec*	at fdt?			# Allwinner H3 audio codec (analog part)
#a64acodec*	at fdt?			# Allwinner A64 audio codec (analog part)
#sunxii2s*	at fdt?			# Allwinner I2S/PCM
audio*		at audiobus?

spkr*		at audio?		# PC speaker (synthesized)

# HDMI CEC
#hdmicec*	at hdmicecbus?

# Display
anxdp*		at fdt?			# Analogix-based (e)DP
anxedp* 	at iic?			# Analogix eDP TX
dispcon*	at fdt?			# Display connector devices
panel*		at fdt?			# Display panels
rkdrm*		at fdt? pass 5		# Rockchip DRM master
rkfb*		at rkdrm?		# Rockchip DRM framebuffer
rkvop*		at fdt?			# Rockchip Visual Output Processor
#sunxide2bus*	at fdt? pass 4		# Allwinner DE2 bus
#sunxidrm*	at fdt?	pass 5		# Allwinner Display Pipeline
#sunxifb*	at sunxidrm?		# Allwinner DRM framebuffer
#sunxihdmiphy*	at fdt? pass 9		# Allwinner HDMI TX PHY
#sunxilcdc*	at fdt?			# Allwinner DE2 timing controller
#sunximixer*	at fdt?			# Allwinner DE2 mixer
genfb*		at fdt?			# Simple Framebuffer
wsdisplay*	at wsemuldisplaydev?
options 	VCONS_DRAW_INTR
options 	WSEMUL_VT100
options 	WSDISPLAY_CUSTOM_OUTPUT
options 	WS_DEFAULT_FG=WSCOL_WHITE
options 	WS_DEFAULT_BG=WSCOL_BLACK
options 	WS_KERNEL_FG=WSCOL_LIGHT_BLUE
options 	WS_KERNEL_BG=WSCOL_BLACK
options 	WSDISPLAY_COMPAT_PCVT
options 	WSDISPLAY_COMPAT_SYSCONS
options 	WSDISPLAY_COMPAT_USL
options 	WSDISPLAY_COMPAT_RAWKBD
options 	WSDISPLAY_DEFAULTSCREENS=4
options 	WSDISPLAY_MULTICONS
options 	WSDISPLAY_SCROLLSUPPORT
pseudo-device	wsmux
pseudo-device	wsfont
options 	FONT_BOLD8x16
options 	FONT_BOLD16x32

# Backlight
pwmbacklight*	at fdt?			# PWM Backlight controls

# Fan
pwmfan* 	at fdt?			# PWM Fan controls

# Thermal throttling controller
mesonthermal*	at fdt?			# Amlogic thermal sensor controller
#sunxithermal*	at fdt?			# Allwinner thermal sensor controller
rktsadc*	at fdt?			# RockChip TSASC

# USB
imx8mqusbphy*	at fdt? pass 9		# IMX USB PHY
mesonusbctrl*	at fdt?			# Amlogic Meson USB-Glue (dwc2 and dwc3)
mesonusbphy*	at fdt? pass 9		# Amlogic Meson USB2 PHY
mesong12u2phy*	at fdt? pass 9		# Amlogic Meson G12 USB2 PHY
mesong12u3pphy*	at fdt? pass 9		# Amlogic Meson G12 USB3/PCIe PHY
mesongxlu2phy*	at fdt? pass 9		# Amlogic Meson GXL USB2 PHY
mesongxlu3phy*	at fdt? pass 9		# Amlogic Meson GXL USB3 PHY
rkusb*		at fdt? pass 9		# Rockchip USB PHY
rkusbphy*	at rkusb?
#sunxiusbphy*	at fdt? pass 9		# Allwinner USB PHY
#sunxiusb3phy*	at fdt? pass 9		# Allwinner USB3 PHY
ehci*		at fdt?			# EHCI
ehci*		at pci?			# EHCI
ehci*		at acpi?		# EHCI
#motg*		at fdt?			# Mentor Graphics USB OTG
ohci*		at fdt?			# OHCI
ohci*		at pci?			# OHCI
ohci*		at acpi?		# OHCI
xhci*		at fdt?			# XHCI
xhci*		at pci?			# XHCI
xhci*		at acpi?		# XHCI
usb*		at usbus?

include "dev/usb/usbdevices.config"
midi*		at midibus?
pseudo-device	sequencer			# MIDI sequencer

# Virtio devices
virtio* 	at fdt?			# Virtio MMIO device
virtio* 	at acpi?
virtio* 	at pci? dev ? function ?
ld*		at virtio?		# Virtio disk device
vioif*		at virtio?		# Virtio network device
viornd* 	at virtio?		# Virtio entropy device
vioscsi*	at virtio?		# Virtio SCSI device

# SCSI controllers
mpt*		at pci? dev ? function ?

# SCSI bus support
scsibus*	at scsi?
sd*		at scsibus? target ? lun ?	# SCSI disk drives

cinclude "arch/evbarm/conf/GENERIC64.local"
